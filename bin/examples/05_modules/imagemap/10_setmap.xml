<?xml version="1.0" encoding="utf-8"?>
<!--
	Map gets changed automatically to show map that contains waypoint targeting to current
	panorama. Map also can be changed manually with use of setMap function. In both cases
	on every map change module executes action onSet of map that has been set.
	
	http://panozona.com/wiki/Module:ImageMap
-->
<SaladoPlayer>
	<global debug="true">
		<trace open="true"/>
	</global>
	<panoramas>
		<panorama id="greenChecker" path="~panoramas/dz_green_check/green_check_f.xml">
			<image id="gc_yellowArrow" path="~hotspots/images/yellow_arrow.png" mouse="onClick:toggleOpenMap"/>
			<image id="gc_map1Setter" path="~hotspots/images/blue_arrow.png" location="pan:-10,tilt:-10" mouse="onClick:setMap1"/>
			<image id="gc_map2Setter" path="~hotspots/images/blue_arrow.png" location="pan:10,tilt:-10" mouse="onClick:setMap2"/>
		</panorama>
		<panorama id="redChecker" path="~panoramas/dz_red_check/red_check_f.xml">
			<image id="rc_yellowArrow2" path="~hotspots/images/yellow_arrow.png" mouse="onClick:toggleOpenMap"/>
			<image id="rc_map1Setter" path="~hotspots/images/blue_arrow.png" location="pan:-10,tilt:-10" mouse="onClick:setMap1"/>
			<image id="rc_map2Setter" path="~hotspots/images/blue_arrow.png" location="pan:10,tilt:-10" mouse="onClick:setMap2"/>/>
		</panorama>
	</panoramas>
	<modules>
		<ImageMap path="~modules/ImageMap-1.2.swf">
			<maps>
				<map id="map1" path="~media/images/maps/map_1.jpg" onSet="onSetMap1">
					<waypoint target="greenChecker" position="x:150,y:100"/>
				</map>
				<map id="map2" path="~media/images/maps/map_2.jpg" onSet="onSetMap2">
					<waypoint target="redChecker" position="x:250,y:200"/>
				</map>
			</maps>
		</ImageMap>
		<DropDown path="~modules/DropDown-1.2.swf">
			<elements>
				<element target="greenChecker" label="Green checker"/>
				<element target="redChecker" label="Red checker"/>
			</elements>
		</DropDown>
	</modules>
	<actions>
		<action id="setMap1" content="ImageMap.setMap(map1)"/>
		<action id="setMap2" content="ImageMap.setMap(map2)"/>
		<action id="onSetMap1" content="SaladoPlayer.print(displaying map1)"/>
		<action id="onSetMap2" content="SaladoPlayer.print(displaying map2)"/>
		<action id="toggleOpenMap" content="ImageMap.toggleOpen()"/>
	</actions>
</SaladoPlayer>